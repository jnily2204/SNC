<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·ªô B√†i Y√™u Th∆∞∆°ng - Hardcore Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <style>
        /* CSS ƒê√É ƒê∆Ø·ª¢C C·∫¨P NH·∫¨T CHO COMMENT FEED PAGE V√Ä TOP BAR */
        body {
            display: flex;
            flex-direction: column; 
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #120810 0%, #2C1A2B 100%); 
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 20px;
            /* padding-top: 70px; S·∫Ω ƒë∆∞·ª£c qu·∫£n l√Ω b·ªüi JS khi top-bar hi·ªÉn th·ªã */
            box-sizing: border-box;
            color: #F5E9F2; 
        }

        .top-bar-controls {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0,0,0,0.3); 
            backdrop-filter: blur(5px);
            padding: 8px 15px; 
            display: flex;
            justify-content: space-between; 
            align-items: center;
            z-index: 1005; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            box-sizing: border-box;
            transition: top 0.3s ease-in-out; 
        }
        .top-bar-controls.hidden {
            top: -80px; 
        }


        .language-switcher {
            background-color: transparent; 
            padding: 0;
            border-radius: 0;
            display: flex;
            flex-wrap: nowrap; 
            gap: 6px; 
            justify-content: flex-start; 
        }
        .language-switcher button {
            background: none;
            border: 1px solid rgba(255, 51, 161, 0.4); 
            color: #FFC0CB; 
            padding: 4px 8px; 
            border-radius: 6px; 
            cursor: pointer;
            font-size: 12px; 
            transition: background-color 0.3s, color 0.3s, transform 0.2s;
            display: flex;
            align-items: center;
            gap: 4px; 
        }
        .language-switcher button:hover, .language-switcher button.active {
            background-color: #FF33A1;
            color: #1D111C;
            transform: scale(1.03); 
            border-color: #FF33A1;
        }
        .language-switcher button .flag {
            font-size: 14px; 
        }
        
        .youtube-audio-controls button { 
            background: rgba(255, 51, 161, 0.1); 
            border: 1px solid rgba(255, 51, 161, 0.4);
            color: #FF8AD8;
            padding: 5px 10px; 
            font-size: 13px; 
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }
        .youtube-audio-controls button:hover {
            background: #FF33A1;
            color: #1D111C;
            box-shadow: 0 0 8px #FF33A1; 
        }

        .floating-comment-button { 
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(145deg, #FF33A1, #C71585); 
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 28px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            z-index: 999;
            transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease, bottom 0.3s ease;
        }
        .floating-comment-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(255,51,161,0.5);
        }
        .floating-comment-button.hidden {
            opacity: 0;
            bottom: -80px; 
            pointer-events: none;
        }


        .page-section { 
            display: none; 
            width: 100%;
            animation: fadeInPage 0.5s ease-out;
            box-sizing: border-box; 
        }
        .page-section.active {
            display: flex; 
        }
        @keyframes fadeInPage {
            from { opacity: 0; }
            to { opacity: 1; }
        }


        /* --- LANDING PAGE STYLES --- */
        .landing-page-section {
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 40px 25px;
            margin-top: 0; 
            max-width: 700px; 
            background-color: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(15px);
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.7);
            border: 1.5px solid rgba(255, 51, 161, 0.15);
        }

        .landing-page-section h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(28px, 7vw, 42px); 
            font-weight: 700;
            color: #FF33A1;
            margin-bottom: 15px;
            text-shadow: 0 0 15px #FF33A1, 0 0 30px #FF33A1, 0 0 8px #000;
        }

        .landing-page-section .tagline-lp {
            font-size: clamp(16px, 4vw, 18px);
            color: #E6A4B4;
            margin-bottom: 30px;
            font-style: italic;
            font-family: 'Playfair Display', serif;
        }

        .landing-page-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(22px, 5vw, 26px);
            color: #FF8AD8; 
            margin-top: 30px;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 105, 180, 0.3);
            padding-bottom: 10px;
            display: inline-block; 
        }

        .landing-page-section p, .landing-page-section ul {
            font-size: clamp(14px, 3.5vw, 16px);
            line-height: 1.8;
            color: #E0C8DD; 
            margin-bottom: 20px;
            text-align: left; 
        }
        
        .landing-page-section p.game-description {
            text-align: center; 
            font-size: clamp(15px, 4vw, 17px);
            margin-bottom: 30px;
        }

        .landing-page-section ul {
            list-style: none; 
            padding-left: 0;
        }

        .landing-page-section ul li {
            padding-left: 30px; 
            position: relative;
            margin-bottom: 10px;
        }

        .landing-page-section ul li::before {
            content: 'üíã'; 
            position: absolute;
            left: 0;
            top: 0;
            font-size: 18px;
            color: #FF33A1;
        }
        
        .landing-page-section .cta-button {
            background: linear-gradient(145deg, #FF33A1, #C71585);
            color: white;
            border: 1px solid #FF33A1;
            padding: 15px 30px; 
            font-size: clamp(16px, 4.5vw, 20px); 
            font-family: 'Montserrat', sans-serif;
            font-weight: bold;
            border-radius: 35px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4), 0 0 15px rgba(255,51,161,0.8) inset, 0 0 10px #FF33A1;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }
        .landing-page-section .cta-button:hover {
            background: linear-gradient(145deg, #C71585, #FF33A1);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 0 20px rgba(255,51,161,1) inset, 0 0 20px #FF33A1;
            transform: translateY(-3px) scale(1.05);
        }

        .game-container {
            flex-direction: column; 
            align-items: center; 
            margin-top: 0; 
            background-color: rgba(10, 0, 5, 0.4); 
            backdrop-filter: blur(12px);
            padding: 25px; 
            border-radius: 30px;
            box-shadow: 0 20px 45px rgba(0, 0, 0, 0.6);
            text-align: center; 
            width: 100%;
            max-width: 500px;
            border: 1.5px solid rgba(255, 105, 180, 0.2);
        }
        
        .game-container header h1 {
            font-family: 'Playfair Display', serif; 
            font-size: clamp(26px, 6vw, 38px);
            color: #FF33A1; 
            margin-bottom: 10px;
            text-shadow: 0 0 12px #FF33A1, 0 0 25px #FF33A1, 0 0 5px #000;
        }

        .game-container .tagline {
            font-size: clamp(14px, 3.8vw, 16px);
            color: #E6A4B4; 
            margin-bottom: 30px; 
            font-style: italic;
            letter-spacing: 0.5px;
        }

        .card-display-area {
            width: 100%;
            height: auto; 
            min-height: 380px; 
            max-height: 480px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px; 
            perspective: 1500px;
        }

        .card-placeholder {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: clamp(260px, 80vw, 320px); 
            height: clamp(380px, 110vw, 460px); 
            border: 3px dashed #DA70D6; 
            border-radius: 25px;
            color: #C9ADC9;
            transition: opacity 0.4s ease, transform 0.4s ease;
            padding: 15px;
        }
        .card-placeholder:hover {
            transform: scale(1.02);
            border-color: #FF33A1;
        }

        .deck-icon {
            font-size: clamp(60px, 15vw, 80px);
            margin-top: 20px;
            opacity: 0.6;
            text-shadow: 0 0 10px #FF33A1;
        }

        .card {
            width: clamp(260px, 80vw, 320px);
            height: clamp(380px, 110vw, 460px);
            background: linear-gradient(155deg, #2A1628, #1C0F1B); 
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            padding: 25px; 
            display: flex;
            flex-direction: column;
            justify-content: space-between; 
            text-align: center;
            box-sizing: border-box;
            color: #F8EFF4;
            border: 1.5px solid rgba(255, 51, 161, 0.4);
            animation: dealInBasic 0.5s cubic-bezier(0.215, 0.610, 0.355, 1), 
                       flipInCardBasic 0.7s 0.5s ease-out forwards;
            transform-style: preserve-3d;
            position: relative;
        }
        
        .card.special-effect-card { 
            border-color: #FF007F; 
            box-shadow: 0 0 20px #FF007F, 0 0 40px #FF007F, 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: dealInSpecial 0.5s cubic-bezier(0.215, 0.610, 0.355, 1), 
                       flipInCardSpecial 0.7s 0.5s ease-out forwards,
                       specialCardPulseGlow 1.2s infinite alternate 1s;
        }
        
        @keyframes dealInBasic { 
            from { transform: translateY(120px) scale(0.7); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }
        @keyframes flipInCardBasic { 
            from { transform: rotateY(-90deg); }
            to { transform: rotateY(0deg); }
        }

        @keyframes dealInSpecial {
            from { transform: translateY(120px) scale(0.7) rotateZ(-8deg); opacity: 0; }
            to { transform: translateY(0) scale(1) rotateZ(0deg); opacity: 1; }
        }
        @keyframes flipInCardSpecial {
            from { transform: rotateY(-90deg) rotateZ(0deg) scale(0.9); }
            to { transform: rotateY(0deg) rotateZ(0deg) scale(1); }
        }

        @keyframes specialCardPulseGlow {
            0% { box-shadow: 0 0 15px #FF007F, 0 0 30px #FF007F, 0 10px 30px rgba(0,0,0,0.5); border-color: rgba(255,0,127,0.7); transform: scale(1); }
            50% { box-shadow: 0 0 30px #FF007F, 0 0 50px #FF007F, 0 10px 30px rgba(0,0,0,0.5); border-color: rgba(255,0,127,1); transform: scale(1.03); }
            100% { box-shadow: 0 0 15px #FF007F, 0 0 30px #FF007F, 0 10px 30px rgba(0,0,0,0.5); border-color: rgba(255,0,127,0.7); transform: scale(1); }
        }

        .card-category {
            font-size: clamp(11px, 3vw, 13px);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #FF8AD8; 
            opacity: 0.95;
            margin-bottom: 10px; 
        }
        .card.special-effect-card .card-category {
             color: #FF007F; 
             text-shadow: 0 0 8px #FF007F;
        }

        .card-main-icon {
            font-size: clamp(45px, 12vw, 60px);
            margin: 15px 0; 
            line-height: 1.2; 
            flex-shrink: 0;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.6);
            transition: transform 0.3s ease-in-out;
        }
        .card.special-effect-card .card-main-icon {
            animation: specialIconPulse 1.2s infinite alternate;
            font-size: clamp(50px, 13vw, 65px); 
        }

        @keyframes specialIconPulse {
            from { transform: scale(1) rotate(0deg); opacity: 0.8; text-shadow: 0 0 10px rgba(255,0,127,0.7); }
            to { transform: scale(1.2) rotate(5deg); opacity: 1; text-shadow: 0 0 20px rgba(255,0,127,1); }
        }

        .card-content {
            font-size: clamp(16px, 4.2vw, 18px);
            line-height: 1.7; 
            flex-grow: 1; 
            display: flex;
            align-items: center; 
            justify-content: center; 
            overflow-y: auto;
            padding: 0 5px; 
            margin-top: 5px; 
        }
        .card-content::-webkit-scrollbar { width: 6px; }
        .card-content::-webkit-scrollbar-thumb { background: #FF33A1; border-radius: 10px; }
        .card-content::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }

        .controls {
            display: flex;
            flex-wrap: wrap; 
            justify-content: center;
            align-items: center;
            gap: 8px; 
        }

        .controls button {
            background: linear-gradient(145deg, #B3005E, #7A0042); 
            color: white;
            border: 1px solid #FF33A1;
            padding: 14px 20px; 
            font-size: clamp(14px, 3.8vw, 16px); 
            font-family: 'Montserrat', sans-serif;
            font-weight: bold;
            border-radius: 30px; 
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4), 0 0 12px rgba(255,51,161,0.7) inset;
            text-transform: uppercase;
            letter-spacing: 1px;
            flex-grow: 1; 
            min-width: 130px; 
        }
         .controls button.pose-button { 
            background: linear-gradient(145deg, #FF69B4, #C71585); 
            color: white;
            border-color: #FF33A1;
            box-shadow: 0 6px 18px rgba(0,0,0,0.3), 0 0 12px rgba(255,105,180,0.7) inset;
        }
        .controls button.pose-button:hover { 
            background: linear-gradient(145deg, #C71585, #FF69B4);
            box-shadow: 0 10px 25px rgba(0,0,0,0.4), 0 0 18px rgba(255,105,180,0.9) inset, 0 0 15px #FF69B4;
        }


        .controls button:hover {
            background: linear-gradient(145deg, #7A0042, #B3005E);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 0 18px rgba(255,51,161,0.9) inset, 0 0 15px #FF33A1;
            transform: translateY(-3px);
        }

        .controls button:active {
            transform: translateY(0px) scale(0.96);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), 0 0 8px rgba(255,51,161,0.7) inset;
        }

        #resetButton {
            background: linear-gradient(145deg, #5A4FCF, #3D32AA); 
            border-color: #8A7FFF;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4), 0 0 12px rgba(138,127,255,0.7) inset;
        }
        #resetButton:hover {
            background: linear-gradient(145deg, #3D32AA, #5A4FCF);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 0 18px rgba(138,127,255,0.9) inset, 0 0 15px #8A7FFF;
        }

        .cards-remaining {
            margin-top: 25px; 
            font-size: 14px; 
            color: #E6A4B4;
        }

        /* --- COMMENT FEED PAGE STYLES --- */
        .comment-feed-page.active { 
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            padding: 20px; 
            margin-top: 0; 
            z-index: 1003; 
            background-color: rgba(10, 0, 5, 0.95); 
            backdrop-filter: blur(15px); 
            display: flex; 
            flex-direction: column;
            align-items: center;
            box-sizing: border-box;
        }

        .comment-feed-page h2 {
            font-family: 'Playfair Display', serif;
            color: #FF69B4;
            margin-top: 20px; 
            margin-bottom: 15px; 
            font-size: clamp(22px, 5vw, 28px);
            text-shadow: 0 0 10px #FF69B4;
        }
        #commentFeedDisplayArea {
            width: 100%;
            max-width: 700px; 
            flex-grow: 1; 
            overflow-y: auto;
            padding: 15px; 
            background-color: rgba(0,0,0,0.25);
            border-radius: 15px;
            margin-bottom: 15px; 
            border: 1px solid rgba(255,51,161,0.2);
            max-height: calc(100vh - 320px); /* S·ª¨A: TƒÉng chi·ªÅu cao t·ªëi ƒëa cho v√πng hi·ªÉn th·ªã */
        }
        #commentFeedDisplayArea::-webkit-scrollbar { width: 8px; }
        #commentFeedDisplayArea::-webkit-scrollbar-thumb { background: #FF33A1; border-radius: 10px; }
        #commentFeedDisplayArea::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }

        .comment-feed-page #commentFeedForm { 
            width: 100%;
            max-width: 600px; 
            margin: 0 auto 10px auto; /* Gi·∫£m margin bottom */
            display: flex; 
            flex-direction: column; 
            gap: 8px; /* Gi·∫£m gap */
        }
        .comment-feed-page #commentFeedForm label {
             color: #FF8AD8;
             font-weight: bold;
             font-size: 14px; /* Gi·∫£m font label */
             text-align: left;
             display: block;
             margin-bottom: 3px; /* Gi·∫£m margin */
        }
        .comment-feed-page #commentFeedForm input[type="text"],
        .comment-feed-page #commentFeedForm input[type="password"],
        .comment-feed-page #commentFeedForm textarea {
            width: 100%; 
            padding: 10px; /* Gi·∫£m padding */
            margin-bottom: 10px; /* Gi·∫£m margin */
            border: 1px solid #5A4FCF; 
            border-radius: 8px; 
            background-color: rgba(255,255,255,0.05);
            color: #F5E9F2;
            font-size: 15px; 
            box-sizing: border-box; 
        }
         .comment-feed-page #commentFeedForm textarea {
            height: 70px; /* Gi·∫£m chi·ªÅu cao textarea */
            resize: vertical;
            margin-bottom: 5px; 
        }
        .emoji-picker-container { 
            display: flex;
            align-items: center;
            gap: 8px; /* Gi·∫£m gap */
            margin-bottom: 10px; 
        }
        #toggleEmojiPickerButton {
            background: none;
            border: 1px solid #FF8AD8;
            color: #FF8AD8;
            padding: 6px 10px; /* Gi·∫£m padding */
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px; 
            transition: background-color 0.2s, color 0.2s;
        }
        #toggleEmojiPickerButton:hover {
            background-color: #FF8AD8;
            color: #1D111C;
        }

        .emoji-picker {
            display: none; 
            flex-wrap: wrap;
            gap: 6px; /* Gi·∫£m gap */
            justify-content: flex-start; 
            padding: 8px; /* Gi·∫£m padding */
            background-color: rgba(0,0,0,0.2);
            border-radius: 6px;
            margin-top: 5px; 
        }
        .emoji-picker.visible {
            display: flex;
        }
        .emoji-picker span {
            font-size: 20px; /* Gi·∫£m k√≠ch th∆∞·ªõc emoji */
            cursor: pointer;
            padding: 3px; /* Gi·∫£m padding */
            border-radius: 5px;
            transition: background-color 0.2s;
        }
        .emoji-picker span:hover {
            background-color: rgba(255,255,255,0.15);
        }

        .comment-feed-page #commentFeedForm button[type="submit"] { 
            width: 100%; 
            padding: 12px 20px; /* Gi·∫£m padding */
            margin-top: 5px; 
            font-size: 16px; /* Gi·∫£m font */
            letter-spacing: 1px; 
            background: linear-gradient(145deg, #FF33A1, #C71585);
            color: white;
            border: 1px solid #FF33A1;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3), 0 0 10px rgba(255,51,161,0.6) inset;
            border-radius: 25px; /* Gi·∫£m bo g√≥c */
            font-family: 'Montserrat', sans-serif;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
         }
         .comment-feed-page #commentFeedForm button[type="submit"]:hover {
            background: linear-gradient(145deg, #C71585, #FF33A1);
            box-shadow: 0 7px 18px rgba(0,0,0,0.4), 0 0 12px rgba(255,51,161,0.8) inset;
            transform: translateY(-1px);
         }

        .comment-feed-page .comment-info {
            font-size: 12px; /* Gi·∫£m font */
            color: #B2A1B1;
            margin-top: 8px; 
            text-align: center; 
        }
         #adminFeedPasswordContainer {
            /* grid-column: 1 / -1;  Kh√¥ng c·∫ßn n·ªØa v√¨ form l√† flex column */
         }


        .comment-feed-page .back-to-game-button {
            margin-top: 15px; /* Gi·∫£m margin */
            padding: 10px 20px; /* Gi·∫£m padding */
            font-size: 16px; /* Gi·∫£m font */
            background: linear-gradient(145deg, #7A0042, #B3005E); 
            color: white;
            border: 1px solid #B3005E;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3), 0 0 10px rgba(179,0,94,0.6) inset;
            align-self: center; 
            border-radius: 25px; /* Gi·∫£m bo g√≥c */
            font-family: 'Montserrat', sans-serif;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }
        .comment-feed-page .back-to-game-button:hover {
            background: linear-gradient(145deg, #B3005E, #7A0042);
            box-shadow: 0 7px 18px rgba(0,0,0,0.4), 0 0 12px rgba(179,0,94,0.8) inset;
            transform: translateY(-1px);
        }


        /* MODAL CHO T∆Ø TH·∫æ */
        .pose-modal { 
            display: none; 
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7); 
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }

        .pose-modal-content { 
            background: linear-gradient(145deg, #3E253B, #2A1628);
            margin: auto;
            padding: 30px;
            border: 1px solid #FF33A1;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            text-align: center;
            position: relative;
            animation: slideInModal 0.5s ease-out;
        }
        
        @keyframes slideInModal {
            from { transform: translateY(-50px); opacity: 0;}
            to { transform: translateY(0); opacity: 1;}
        }

        .pose-modal-close { 
            color: #FF8AD8;
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 30px;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        .pose-modal-close:hover, 
        .pose-modal-close:focus {
            color: #FF33A1;
            text-decoration: none;
            cursor: pointer;
        }

        .pose-modal h2 { 
            font-family: 'Playfair Display', serif;
            color: #FF69B4;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .pose-modal p { 
            font-size: 17px;
            line-height: 1.7;
            color: #F0E6F0;
            min-height: 50px; 
            margin-bottom: 25px;
            text-align: left; 
        }
         .pose-modal p strong { 
            color: #FF8AD8;
            display: block;
            margin-bottom: 8px;
            font-size: 19px;
        }
        
        /* ·∫®n tr√¨nh ph√°t YouTube */
        #youtube-player-container {
            position: absolute;
            top: -9999px;
            left: -9999px;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="top-bar-controls" id="topBarControls"> 
        <div class="language-switcher" id="languageSwitcher">
            </div>
        <div class="youtube-audio-controls"> 
            <button id="youtubeAudioToggle" data-translate-key="play_youtube_audio_button">‚ñ∂Ô∏è Nghe Nh·∫°c</button>
        </div>
    </div>
    
    <button class="floating-comment-button" id="openCommentPageButton" title="B√¨nh lu·∫≠n">üí¨</button>

    <div class="landing-page-section page-section active" id="landingPageSection">
        <h1 data-translate-key="landing_main_title">B·ªô B√†i Y√™u Th∆∞∆°ng</h1>
        <p class="tagline-lp" data-translate-key="landing_tagline_lp">- Hardcore Edition - <br>ƒê√°nh Th·ª©c Gi√°c Quan, B√πng N·ªï C·∫£m X√∫c</p>

        <p class="game-description" data-translate-key="landing_game_description">
            <strong>B·ªô B√†i Y√™u Th∆∞∆°ng - Hardcore Edition</strong> l√† m·ªôt tr√≤ ch∆°i th·∫ª b√†i 18+ ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát cho c√°c c·∫∑p ƒë√¥i mu·ªën kh√°m ph√° nh·ªØng gi·ªõi h·∫°n m·ªõi c·ªßa s·ª± th√¢n m·∫≠t, ƒëam m√™ v√† phi√™u l∆∞u t√¨nh √°i. V·ªõi nh·ªØng th·ª≠ th√°ch t√°o b·∫°o, c√¢u h·ªèi kh∆°i g·ª£i v√† nh·ªØng g·ª£i √Ω n√≥ng b·ªèng, tr√≤ ch∆°i n√†y h·ª©a h·∫πn mang ƒë·∫øn nh·ªØng gi√¢y ph√∫t v·ª´a h·ªìi h·ªôp, v·ª´a vui v·∫ª, gi√∫p h√¢m n√≥ng t√¨nh y√™u v√† t·∫°o n√™n nh·ªØng k·ª∑ ni·ªám kh√≥ phai.
        </p>

        <h2 data-translate-key="landing_prepare_title">C·∫ßn Chu·∫©n B·ªã G√¨?</h2>
        <ul data-translate-key="landing_prepare_list_items"> 
        </ul>

        <h2 data-translate-key="landing_who_play_title">Ai N√™n Ch∆°i?</h2>
        <ul data-translate-key="landing_who_play_list_items">
        </ul>

        <h2 data-translate-key="landing_when_play_title">N√™n Ch∆°i Khi N√†o?</h2>
        <ul data-translate-key="landing_when_play_list_items">
        </ul>
        
        <button class="cta-button" id="startGameButton" data-translate-key="landing_start_button">B·∫Øt ƒê·∫ßu Cu·ªôc Vui</button>
    </div>

    <div class="game-container page-section" id="gameContainer">
        <header>
            <h1 data-translate-key="game_main_title">B·ªô B√†i Y√™u Th∆∞∆°ng</h1>
            <p class="tagline" data-translate-key="game_tagline">ƒê√™m nay... kh√¥ng c√≤n gi·ªõi h·∫°n</p>
        </header>

        <div class="card-display-area">
            <div class="card-placeholder" id="cardPlaceholder">
                <p data-translate-key="card_placeholder_text">D√°m th·ª≠ th√°ch gi·ªõi h·∫°n?</p>
                <span class="deck-icon">üòà</span> 
            </div>
            <div class="card" id="drawnCard" style="display: none;">
                <div class="card-category" id="cardCategory"></div>
                <div class="card-main-icon" id="cardIcon"></div>
                <div class="card-content" id="cardText"></div>
            </div>
        </div>

        <div class="controls">
            <button id="drawButton" data-translate-key="draw_card_button">B·ªëc B√†i</button> 
            <button id="resetButton" style="display: none;" data-translate-key="play_again_button">V√≤ng M·ªõi</button>
            <button id="predefinedPoseButton" class="pose-button" data-translate-key="pose_challenge_button">üî• Th·ª≠ Th√°ch 21+</button> 
        </div>
        
        <div class="cards-remaining" id="cardsRemaining" data-translate-key="cards_remaining_text_prefix">C√≤n l·∫°i: 80 l√°</div>
        
        </div>

    <div id="poseModal" class="pose-modal"> 
        <div class="pose-modal-content">
            <span class="pose-modal-close" id="closePoseModal">√ó</span>
            <h2 id="poseModalTitle" data-translate-key="pose_modal_title_text">üî• T∆∞ Th·∫ø Ng·∫´u Nhi√™n 21+ üî•</h2>
            <p id="poseModalText"></p>
        </div>
    </div>

    <div class="comment-feed-page page-section" id="commentFeedPage">
        <h2 data-translate-key="comment_page_title">B·∫£ng V√†ng C·∫£m X√∫c</h2>
        <div id="commentFeedDisplayArea">
            </div>
        <form id="commentFeedForm">
            <label for="commentFeedUser" data-translate-key="comment_user_label">T√™n c·ªßa b·∫°n:</label>
            <input type="text" id="commentFeedUser" name="commentFeedUser" placeholder="·∫®n danh n·∫øu b·ªè tr·ªëng">
            
            <div id="adminFeedPasswordContainer" style="display:none;">
                 <label for="adminFeedPassword" data-translate-key="admin_password_label">M·∫≠t kh·∫©u Admin:</label>
                 <input type="password" id="adminFeedPassword" name="adminFeedPassword">
            </div>

            <label for="commentFeedMessage" data-translate-key="comment_message_label">Chia s·∫ª c·ªßa b·∫°n:</label>
            <textarea id="commentFeedMessage" name="commentFeedMessage" rows="3" required></textarea>
            
            <div class="emoji-picker-container">
                 <button type="button" id="toggleEmojiPickerButton" title="Ch·ªçn Emoji">üòÉ</button>
            </div>
            <div class="emoji-picker" id="emojiPicker">
                </div>

            <button type="submit" id="submitFeedCommentButton" data-translate-key="comment_submit_button">ƒêƒÉng</button>
            <p class="comment-info" data-translate-key="comment_local_info">L∆∞u √Ω: B√¨nh lu·∫≠n ƒë∆∞·ª£c l∆∞u c·ª•c b·ªô tr√™n tr√¨nh duy·ªát n√†y.</p>
        </form>
        <button class="back-to-game-button" id="backToGameFromComments" data-translate-key="back_to_main_button">Quay L·∫°i</button>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let isYoutubeAudioPlaying = false; 

            const landingPageSection = document.getElementById('landingPageSection');
            const gameContainer = document.getElementById('gameContainer');
            const commentFeedPage = document.getElementById('commentFeedPage'); 
            const topBarControls = document.getElementById('topBarControls'); 

            const startGameButton = document.getElementById('startGameButton');
            const languageSwitcher = document.getElementById('languageSwitcher');
            
            const openCommentPageButton = document.getElementById('openCommentPageButton'); 
            const backToGameFromCommentsButton = document.getElementById('backToGameFromComments');

            const cardPlaceholder = document.getElementById('cardPlaceholder');
            const drawnCardElement = document.getElementById('drawnCard');
            const cardCategoryElement = document.getElementById('cardCategory');
            const cardIconElement = document.getElementById('cardIcon');
            const cardTextElement = document.getElementById('cardText');
            const drawButton = document.getElementById('drawButton');
            const resetButton = document.getElementById('resetButton');
            const cardsRemainingElement = document.getElementById('cardsRemaining');
            
            const poseModal = document.getElementById('poseModal'); 
            const closePoseModalButton = document.getElementById('closePoseModal'); 
            const poseModalTitle = document.getElementById('poseModalTitle'); 
            const poseModalText = document.getElementById('poseModalText'); 
            const predefinedPoseButton = document.getElementById('predefinedPoseButton'); 

            const commentForm = document.getElementById('commentFeedForm');
            const commentUserInput = document.getElementById('commentFeedUser');
            const adminFeedPasswordContainer = document.getElementById('adminFeedPasswordContainer');
            const adminFeedPasswordInput = document.getElementById('adminFeedPassword');
            const commentMessageInput = document.getElementById('commentFeedMessage');
            const commentFeedDisplayArea = document.getElementById('commentFeedDisplayArea');
            const emojiPicker = document.getElementById('emojiPicker');
            const toggleEmojiPickerButton = document.getElementById('toggleEmojiPickerButton');
            
            const youtubeAudioToggleButton = document.getElementById('youtubeAudioToggle');
            let ytPlayer;
            const YOUTUBE_VIDEO_ID = '5qap5aO4i9A'; 


            // --- D·ªÆ LI·ªÜU D·ªäCH THU·∫¨T ---
            const translations = {
                'vi': {
                    'lang_name': 'Ti·∫øng Vi·ªát',
                    'landing_main_title': 'B·ªô B√†i Y√™u Th∆∞∆°ng',
                    'landing_tagline_lp': '- Hardcore Edition - <br>ƒê√°nh Th·ª©c Gi√°c Quan, B√πng N·ªï C·∫£m X√∫c',
                    'landing_game_description': '<strong>B·ªô B√†i Y√™u Th∆∞∆°ng - Hardcore Edition</strong> l√† m·ªôt tr√≤ ch∆°i th·∫ª b√†i 18+ ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát cho c√°c c·∫∑p ƒë√¥i mu·ªën kh√°m ph√° nh·ªØng gi·ªõi h·∫°n m·ªõi c·ªßa s·ª± th√¢n m·∫≠t, ƒëam m√™ v√† phi√™u l∆∞u t√¨nh √°i. V·ªõi nh·ªØng th·ª≠ th√°ch t√°o b·∫°o, c√¢u h·ªèi kh∆°i g·ª£i v√† nh·ªØng g·ª£i √Ω n√≥ng b·ªèng, tr√≤ ch∆°i n√†y h·ª©a h·∫πn mang ƒë·∫øn nh·ªØng gi√¢y ph√∫t v·ª´a h·ªìi h·ªôp, v·ª´a vui v·∫ª, gi√∫p h√¢m n√≥ng t√¨nh y√™u v√† t·∫°o n√™n nh·ªØng k·ª∑ ni·ªám kh√≥ phai.',
                    'landing_prepare_title': 'C·∫ßn Chu·∫©n B·ªã G√¨?',
                    'landing_prepare_list_items': [ 
                        'Kh√¥ng gian ri√™ng t∆∞, ·∫•m c√∫ng v√† ho√†n to√†n tho·∫£i m√°i.',
                        'ƒê·ªì u·ªëng y√™u th√≠ch c·ªßa c·∫£ hai (r∆∞·ª£u vang, cocktail, mocktail, hay b·∫•t c·ª© g√¨ l√†m b·∫°n th·∫•y "phi√™u").',
                        'M·ªôt t√¢m h·ªìn r·ªông m·ªü, s·∫µn s√†ng phi√™u l∆∞u, chia s·∫ª v√† kh√¥ng ph√°n x√©t.',
                        'Ng∆∞·ªùi b·∫°n ƒë·ªùi/b·∫°n t√¨nh m√† b·∫°n tin t∆∞·ªüng tuy·ªát ƒë·ªëi v√† mu·ªën c√πng nhau kh√°m ph√°.',
                        '(T√πy ch·ªçn) M·ªôt ch√∫t nh·∫°c n·ªÅn du d∆∞∆°ng, quy·∫øn r≈©.'
                    ],
                    'landing_who_play_title': 'Ai N√™n Ch∆°i?',
                    'landing_who_play_list_items': [ 
                        'C√°c c·∫∑p ƒë√¥i ƒëang y√™u, v·ª£ ch·ªìng mu·ªën "th·ªïi l·ª≠a" cho m·ªëi quan h·ªá.',
                        'Nh·ªØng c·∫∑p ƒë√¥i th√≠ch kh√°m ph√°, kh√¥ng ng·∫°i th·ª≠ th√°ch v√† mu·ªën t√¨m hi·ªÉu s√¢u h∆°n v·ªÅ nh·ªØng khao kh√°t th·∫ßm k√≠n c·ªßa nhau.',
                        'B·∫•t k·ª≥ ai tr√™n 18 tu·ªïi, c√≥ s·ª± ƒë·ªìng thu·∫≠n tuy·ªát ƒë·ªëi v√† mu·ªën th√™m gia v·ªã cho ƒë·ªùi s·ªëng t√¨nh d·ª•c m·ªôt c√°ch vui v·∫ª, s√°ng t·∫°o v√† ƒë·∫ßy ƒëam m√™.'
                    ],
                    'landing_when_play_title': 'N√™n Ch∆°i Khi N√†o?',
                    'landing_when_play_list_items': [ 
                        'Nh·ªØng bu·ªïi t·ªëi h·∫πn h√≤ ƒë·∫∑c bi·ªát, ch·ªâ c√≥ hai ng∆∞·ªùi.',
                        'D·ªãp k·ª∑ ni·ªám t√¨nh y√™u, ng√†y c∆∞·ªõi, ho·∫∑c m·ªôt d·∫•u m·ªëc quan tr·ªçng.',
                        'Khi b·∫°n mu·ªën ph√° v·ª° s·ª± nh√†m ch√°n, t√¨m ki·∫øm nh·ªØng tr·∫£i nghi·ªám m·ªõi m·∫ª v√† m√£nh li·ªát h∆°n.',
                        'Trong nh·ªØng chuy·∫øn du l·ªãch l√£ng m·∫°n, t·∫°o th√™m ƒëi·ªÉm nh·∫•n kh√≥ qu√™n cho k·ª≥ ngh·ªâ.',
                        'B·∫•t c·ª© khi n√†o c·∫£ hai c·∫£m th·∫•y s·∫µn s√†ng cho m·ªôt cu·ªôc phi√™u l∆∞u t√¨nh √°i ƒë·∫ßy b·∫•t ng·ªù!'
                    ],
                    'landing_start_button': 'B·∫Øt ƒê·∫ßu Cu·ªôc Vui',
                    'game_main_title': 'B·ªô B√†i Y√™u Th∆∞∆°ng',
                    'game_tagline': 'ƒê√™m nay... kh√¥ng c√≤n gi·ªõi h·∫°n',
                    'card_placeholder_text': 'D√°m th·ª≠ th√°ch gi·ªõi h·∫°n?',
                    'draw_card_button': 'B·ªëc B√†i', 
                    'play_again_button': 'V√≤ng M·ªõi',
                    'pose_challenge_button': 'üî• Th·ª≠ Th√°ch 21+',
                    'cards_remaining_text_prefix': 'C√≤n l·∫°i:',
                    'cards_remaining_text_suffix': 'l√°',
                    'no_cards_left_text': 'H·∫øt b√†i! Ch∆°i l·∫°i ho·∫∑c chia s·∫ª c·∫£m x√∫c nh√©?', 
                    'play_youtube_audio_button': '‚ñ∂Ô∏è Nghe Nh·∫°c', 
                    'pause_youtube_audio_button': '‚è∏Ô∏è T·∫Øt Nh·∫°c', 
                    'pose_modal_title_text': 'üî• T∆∞ Th·∫ø Ng·∫´u Nhi√™n 21+ üî•',
                    'comment_page_title': 'B·∫£ng V√†ng C·∫£m X√∫c', 
                    'comment_user_label': 'T√™n c·ªßa b·∫°n (hi·ªÉn th·ªã):', 
                    'comment_message_label': 'Chia s·∫ª c·ªßa b·∫°n:', 
                    'comment_submit_button': 'ƒêƒÉng', 
                    'comment_local_info': 'L∆∞u √Ω: B√¨nh lu·∫≠n ƒë∆∞·ª£c l∆∞u c·ª•c b·ªô tr√™n tr√¨nh duy·ªát n√†y.', 
                    'admin_password_label': 'M·∫≠t kh·∫©u Admin:',
                    'back_to_main_button': 'Quay L·∫°i', 
                    'no_poses_defined': "Kh√¥ng c√≥ t∆∞ th·∫ø n√†o ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a.",
                    'anonymous_user': '·∫®n danh',
                    // Card Categories
                    'Th·ª≠ Th√°ch': 'Th·ª≠ Th√°ch',
                    'C√¢u H·ªèi': 'C√¢u H·ªèi',
                    'H√†nh ƒê·ªông': 'H√†nh ƒê·ªông',
                    'ƒê·∫∑c Bi·ªát': 'ƒê·∫∑c Bi·ªát',
                    'T∆∞ Th·∫ø N√≥ng B·ªèng': 'T∆∞ Th·∫ø N√≥ng B·ªèng',
                    'Th·ª≠ Th√°ch T√°o B·∫°o': 'Th·ª≠ Th√°ch T√°o B·∫°o'
                },
                'en': {
                    'lang_name': 'English',
                    'landing_main_title': 'Love Cards Deck',
                    'landing_tagline_lp': '- Hardcore Edition - <br>Awaken Senses, Ignite Emotions',
                    'landing_game_description': '<strong>Love Cards Deck - Hardcore Edition</strong> is an 18+ card game specially designed for couples who want to explore new limits of intimacy, passion, and amorous adventure. With daring challenges, evocative questions, and steamy suggestions, this game promises moments of thrill and fun, helping to spice up love and create unforgettable memories.',
                    'landing_prepare_title': 'What to Prepare?',
                     'landing_prepare_list_items': [ 
                        'A private, cozy, and completely comfortable space.',
                        'Your favorite drinks (wine, cocktails, mocktails, or anything that gets you in the mood).',
                        'An open mind, ready for adventure, sharing, and no judgment.',
                        'A partner you absolutely trust and want to explore with.',
                        '(Optional) Some smooth, seductive background music.'
                    ],
                    'landing_who_play_title': 'Who Should Play?',
                    'landing_who_play_list_items': [ 
                        'Couples in love, spouses wanting to "reignite the flame."',
                        'Couples who love exploring, aren\'t afraid of challenges, and want to delve deeper into each other\'s hidden desires.',
                        'Anyone over 18, with absolute consent, wanting to spice up their sex life in a fun, creative, and passionate way.'
                    ],
                    'landing_when_play_title': 'When to Play?',
                    'landing_when_play_list_items': [ 
                        'Special date nights, just the two of you.',
                        'Love anniversaries, wedding anniversaries, or important milestones.',
                        'When you want to break the monotony, seeking new and more intense experiences.',
                        'During romantic getaways, adding an unforgettable highlight to your vacation.',
                        'Whenever you both feel ready for an amorous adventure full of surprises!'
                    ],
                    'landing_start_button': 'Start the Fun',
                    'game_main_title': 'Love Cards Deck',
                    'game_tagline': 'Tonight... there are no limits',
                    'card_placeholder_text': 'Dare to test the limits?',
                    'draw_card_button': 'Draw Card', 
                    'play_again_button': 'New Round',
                    'pose_challenge_button': 'üî• 21+ Challenge',
                    'cards_remaining_text_prefix': 'Cards left:',
                    'cards_remaining_text_suffix': '', 
                    'no_cards_left_text': 'No cards left! Play again or share your thoughts?', 
                    'play_youtube_audio_button': '‚ñ∂Ô∏è Play Music', 
                    'pause_youtube_audio_button': '‚è∏Ô∏è Pause Music', 
                    'pose_modal_title_text': 'üî• Random 21+ Pose ÔøΩ',
                    'comment_page_title': 'Wall of Emotions & Comments', 
                    'comment_user_label': 'Your Name (display):', 
                    'comment_message_label': 'Your comment:', 
                    'comment_submit_button': 'Post', 
                    'comment_local_info': 'Note: Comments are stored locally in this browser and will be lost if browser data is cleared.', 
                    'admin_password_label': 'Admin Password:',
                    'back_to_main_button': 'Back', 
                    'alert_comment_message_required': "Please enter your comment.", 
                    'no_poses_defined': "No poses defined.",
                    'anonymous_user': 'Anonymous',
                    // Card Categories
                    'Th·ª≠ Th√°ch': 'Challenge',
                    'C√¢u H·ªèi': 'Question',
                    'H√†nh ƒê·ªông': 'Action',
                    'ƒê·∫∑c Bi·ªát': 'Special',
                    'T∆∞ Th·∫ø N√≥ng B·ªèng': 'Steamy Pose',
                    'Th·ª≠ Th√°ch T√°o B·∫°o': 'Daring Challenge'
                }
            };

            // D·ªØ li·ªáu l√° b√†i (80 l√°) - ƒê·∫£m b·∫£o ƒë·∫ßy ƒë·ªß c·∫•u tr√∫c cho vi v√† en
            const cardData = [
                // Th·ª≠ Th√°ch (15)
                { id: 1, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "H√¥n ƒë·ªëi ph∆∞∆°ng ·ªü 3 v·ªã tr√≠ b·∫•t k·ª≥ (kh√¥ng ph·∫£i m√¥i).", en: "Kiss your partner in any 3 places (not the lips)."}, icon: "üíã" },
                { id: 2, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "Th√¨ th·∫ßm m·ªôt b√≠ m·∫≠t \"ƒëen t·ªëi\" nh·∫•t c·ªßa b·∫°n v√†o tai ƒë·ªëi ph∆∞∆°ng.", en: "Whisper your darkest secret into your partner's ear."}, icon: "ü§´" },
                { id: 3, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "Nh·∫£y m·ªôt ƒëi·ªáu nh·∫£y g·ª£i c·∫£m trong 30 gi√¢y cho ƒë·ªëi ph∆∞∆°ng xem.", en: "Perform a sensual dance for your partner for 30 seconds."}, icon: "üíÉ" },
                { id: 4, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "ƒê·ªÉ ƒë·ªëi ph∆∞∆°ng ch·ªçn m·ªôt b√†i h√°t, b·∫°n ph·∫£i h√°t theo v√† di·ªÖn t·∫£.", en: "Let your partner choose a song; you must sing and act it out."}, icon: "üé§" },
                { id: 5, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "C·ªüi m·ªôt m√≥n ƒë·ªì c·ªßa ƒë·ªëi ph∆∞∆°ng b·∫±ng rƒÉng (n·∫øu c√≥ th·ªÉ v√† ƒë·ªìng √Ω).", en: "Remove an item of your partner's clothing with your teeth (if possible and consensual)."}, icon: "ü¶∑" },
                { id: 6, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "U·ªëng c·∫°n ly c·ªßa b·∫°n v√† y√™u c·∫ßu ƒë·ªëi ph∆∞∆°ng l√†m m·ªôt ƒëi·ªÅu g√¨ ƒë√≥ cho b·∫°n (trong gi·ªõi h·∫°n).", en: "Finish your drink and ask your partner to do something for you (within limits)."}, icon: "ü•Ç" },
                { id: 7, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "K·ªÉ t√™n 5 ƒëi·ªÅu b·∫°n mu·ªën l√†m c√πng ƒë·ªëi ph∆∞∆°ng tr√™n gi∆∞·ªùng.", en: "Name 5 things you want to do with your partner in bed."}, icon: "üõèÔ∏è" },
                { id: 8, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "M√¥ t·∫£ n·ª• h√¥n ho√†n h·∫£o c·ªßa b·∫°n v√† th·ª±c hi·ªán n√≥ v·ªõi ƒë·ªëi ph∆∞∆°ng.", en: "Describe your perfect kiss and then give it to your partner."}, icon: "üòò" },
                { id: 9, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "ƒê·ªÉ ƒë·ªëi ph∆∞∆°ng b·ªãt m·∫Øt b·∫°n v√† ƒëo√°n 3 v·ªã tr√≠ h·ªç ch·∫°m v√†o b·∫°n.", en: "Let your partner blindfold you and guess 3 places they touch you."}, icon: "üôà" },
                { id: 10, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "N√≥i \"Anh y√™u em\" / \"Em y√™u anh\" b·∫±ng 3 gi·ªçng ƒëi·ªáu kh√°c nhau.", en: "Say \"I love you\" in 3 different tones of voice."}, icon: "üó£Ô∏è" },
                { id: 11, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "Massage cho ƒë·ªëi ph∆∞∆°ng trong 2 ph√∫t (ch·ªçn 1 b·ªô ph·∫≠n).", en: "Massage your partner for 2 minutes (choose one body part)."}, icon: "üíÜ" },
                { id: 12, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "G·ªçi t√™n ƒë·ªëi ph∆∞∆°ng m·ªôt c√°ch g·ª£i c·∫£m nh·∫•t b·∫°n c√≥ th·ªÉ.", en: "Call your partner's name in the sexiest way you can."}, icon: "üíò" },
                { id: 13, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "C·∫£ hai c√πng nh·∫Øm m·∫Øt, ng∆∞·ªùi r√∫t b√†i ch·∫°m nh·∫π l√™n m√¥i ƒë·ªëi ph∆∞∆°ng.", en: "Both close your eyes; the card drawer gently touches the partner's lips."}, icon: "‚ú®" },
                { id: 14, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "H√¥n l√™n c·ªï ƒë·ªëi ph∆∞∆°ng cho ƒë·∫øn khi h·ªç b·∫≠t c∆∞·ªùi.", en: "Kiss your partner's neck until they laugh."}, icon: "üßõ" },
                { id: 15, category: {vi: "Th·ª≠ Th√°ch", en: "Challenge"}, text: {vi: "T·∫°o d√°ng m·ªôt t∆∞ th·∫ø yoga ƒë√¥i ƒë∆°n gi·∫£n c√πng nhau.", en: "Strike a simple couple's yoga pose together."}, icon: "üßò" },
                // C√¢u H·ªèi (15)
                { id: 16, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "ƒêi·ªÅu g√¨ ·ªü ƒë·ªëi ph∆∞∆°ng khi·∫øn b·∫°n c·∫£m th·∫•y \"b·∫≠t l·ª≠a\" nh·∫•t ngay l√∫c n√†y?", en: "What about your partner turns you on the most right now?"}, icon: "üî•" },
                { id: 17, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "K·ª∑ ni·ªám \"n√≥ng b·ªèng\" nh·∫•t c·ªßa hai b·∫°n l√† g√¨?", en: "What is your steamiest memory together?"}, icon: "üå∂Ô∏è" },
                { id: 18, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "N·∫øu ƒë∆∞·ª£c th·ª≠ m·ªôt vai tr√≤ m·ªõi tr√™n gi∆∞·ªùng, b·∫°n mu·ªën l√† ai/g√¨?", en: "If you could try a new role in bed, who/what would you be?"}, icon: "üé≠" },
                { id: 19, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "N∆°i k·ª≥ l·∫° nh·∫•t b·∫°n t·ª´ng nghƒ© ƒë·∫øn vi·ªác \"l√†m chuy·ªán ·∫•y\"?", en: "What's the strangest place you've ever thought of making love?"}, icon: "üåç" },
                { id: 20, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "B·∫°n th√≠ch ƒë√®n s√°ng hay ƒë√®n m·ªù khi th√¢n m·∫≠t? T·∫°i sao?", en: "Do you prefer lights on or off during intimacy? Why?"}, icon: "üí°" },
                { id: 21, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "M·ªôt f_antasy_ t√¨nh d·ª•c b·∫°n ch∆∞a bao gi·ªù n√≥i ra?", en: "A sexual fantasy you've never voiced?"}, icon: "üí≠" },
                { id: 22, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "B·∫°n th√≠ch ƒë∆∞·ª£c khen ng·ª£i ƒëi·ªÅu g√¨ nh·∫•t ·ªü ngo·∫°i h√¨nh c·ªßa m√¨nh?", en: "What compliment about your appearance do you like the most?"}, icon: "üåü" },
                { id: 23, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "√Çm thanh n√†o c·ªßa ƒë·ªëi ph∆∞∆°ng khi·∫øn b·∫°n th√≠ch th√∫ nh·∫•t?", en: "What sound from your partner excites you the most?"}, icon: "üé∂" },
                { id: 24, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "N·∫øu c√≥ th·ªÉ d√πng 3 t·ª´ ƒë·ªÉ m√¥ t·∫£ ƒë·ªùi s·ªëng t√¨nh d·ª•c c·ªßa hai b·∫°n, ƒë√≥ l√† g√¨?", en: "If you could use 3 words to describe your sex life, what would they be?"}, icon: "üìù" },
                { id: 25, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "B·∫°n c√≥ b√≠ m·∫≠t n√†o v·ªÅ n·ª• h√¥n ƒë·∫ßu ti√™n c·ªßa m√¨nh kh√¥ng?", en: "Do you have any secrets about your first kiss?"}, icon: "ü§ê" },
                { id: 26, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "ƒêi·ªÅu g√¨ khi·∫øn b·∫°n c·∫£m th·∫•y ƒë∆∞·ª£c y√™u nh·∫•t?", en: "What makes you feel the most loved?"}, icon: "‚ù§Ô∏è" },
                { id: 27, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "B·∫°n th√≠ch \"kh√∫c d·∫°o ƒë·∫ßu\" k√©o d√†i bao l√¢u?", en: "How long do you like foreplay to last?"}, icon: "‚è≥" },
                { id: 28, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "M√πi h∆∞∆°ng n√†o tr√™n c∆° th·ªÉ ƒë·ªëi ph∆∞∆°ng b·∫°n th√≠ch nh·∫•t?", en: "What is your favorite scent on your partner's body?"}, icon: "üëÉ" },
                { id: 29, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "B·∫°n c√≥ \"v√πng c·∫•m\" n√†o tr√™n c∆° th·ªÉ kh√¥ng mu·ªën ƒë·ªëi ph∆∞∆°ng ch·∫°m v√†o kh√¥ng?", en: "Are there any 'off-limits' areas on your body you don't want your partner to touch?"}, icon: "üö´" },
                { id: 30, category: {vi: "C√¢u H·ªèi", en: "Question"}, text: {vi: "M·ªôt ƒëi·ªÅu b·∫°n mu·ªën ƒë·ªëi ph∆∞∆°ng l√†m th∆∞·ªùng xuy√™n h∆°n khi \"y√™u\"?", en: "One thing you wish your partner did more often during lovemaking?"}, icon: "‚ûï" },
                // H√†nh ƒê·ªông (15)
                { id: 31, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "Ng∆∞·ªùi r√∫t b√†i c·ªüi 1 m√≥n ƒë·ªì tr√™n ng∆∞·ªùi.", en: "The card drawer removes one item of clothing."}, icon: "üëö" },
                { id: 32, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "ƒê·ªëi ph∆∞∆°ng c·ªüi 1 m√≥n ƒë·ªì tr√™n ng∆∞·ªùi.", en: "Your partner removes one item of clothing."}, icon: "üëï" },
                { id: 33, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "C·∫£ hai c√πng c·ªüi 1 m√≥n ƒë·ªì.", en: "Both remove one item of clothing."}, icon: "üîó" },
                { id: 34, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "Ch·ªçn 1 t∆∞ th·∫ø trong [t∆∞·ªüng t∆∞·ª£ng/s√°ch]. C·∫£ hai s·∫Ω th·ª≠ n√≥ sau tr√≤ ch∆°i.", en: "Choose a position [from imagination/book]. You'll try it after the game."}, icon: "ü§∏" },
                { id: 35, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "H√¥n ƒë·ªëi ph∆∞∆°ng say ƒë·∫Øm trong 1 ph√∫t.", en: "Passionately kiss your partner for 1 minute."}, icon: "üíû" },
                { id: 36, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "Trao cho ƒë·ªëi ph∆∞∆°ng m·ªôt n·ª• h√¥n ki·ªÉu Ph√°p th·∫≠t ch·∫≠m.", en: "Give your partner a slow French kiss."}, icon: "üá´üá∑" },
                { id: 37, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "C·∫Øn nh·∫π v√†o tai ƒë·ªëi ph∆∞∆°ng.", en: "Gently bite your partner's ear."}, icon: "üëÇ" },
                { id: 38, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "Ng∆∞·ªùi r√∫t b√†i ch·ªçn m·ªôt b·ªô ph·∫≠n tr√™n c∆° th·ªÉ ƒë·ªëi ph∆∞∆°ng ƒë·ªÉ h√¥n.", en: "The card drawer chooses a body part on their partner to kiss."}, icon: "üéØ" },
                { id: 39, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "ƒê·ªëi ph∆∞∆°ng ch·ªçn m·ªôt b·ªô ph·∫≠n tr√™n c∆° th·ªÉ b·∫°n ƒë·ªÉ h√¥n.", en: "Your partner chooses a body part on you to kiss."}, icon: "üìç" },
                { id: 40, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "N·∫±m xu·ªëng v√† ƒë·ªÉ ƒë·ªëi ph∆∞∆°ng n·∫±m l√™n tr√™n b·∫°n trong 1 ph√∫t (ch·ªâ √¥m).", en: "Lie down and let your partner lie on top of you for 1 minute (just cuddle)."}, icon: "ü´Ç" },
                { id: 41, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "Ch·∫°m v√†o ƒëi·ªÉm nh·∫°y c·∫£m nh·∫•t c·ªßa ƒë·ªëi ph∆∞∆°ng (qua l·ªõp qu·∫ßn √°o).", en: "Touch your partner's most sensitive spot (over clothes)."}, icon: "üëâ" },
                { id: 42, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "M√¥ t·∫£ m·ªôt t∆∞ th·∫ø quan h·ªá b·∫°n mu·ªën th·ª≠ b·∫±ng h√†nh ƒë·ªông (kh√¥ng l·ªùi).", en: "Describe a sex position you want to try using only actions (no words)."}, icon: "üé¨" },
                { id: 43, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "C·ªüi ƒë·ªì c·ªßa ƒë·ªëi ph∆∞∆°ng t·ª´ t·ª´, t·ª´ng m√≥n m·ªôt.", en: "Slowly undress your partner, one item at a time."}, icon: "üéÅ" },
                { id: 44, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "C·∫£ hai c√πng u·ªëng 1 ly, sau ƒë√≥ ng∆∞·ªùi r√∫t b√†i quy·∫øt ƒë·ªãnh h√†nh ƒë·ªông ti·∫øp theo.", en: "Both take a drink, then the card drawer decides the next action."}, icon: "üçπ" },
                { id: 45, category: {vi: "H√†nh ƒê·ªông", en: "Action"}, text: {vi: "Th·ª≠ m·ªôt ki·ªÉu h√¥n m·ªõi m√† hai b·∫°n ch∆∞a t·ª´ng th·ª≠.", en: "Try a new type of kiss you've never tried before."}, icon: "üí°" },
                // ƒê·∫∑c Bi·ªát (15)
                { id: 46, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "MAY M·∫ÆN! B·∫°n ƒë∆∞·ª£c mi·ªÖn h√¨nh ph·∫°t l·∫ßn n√†y. ƒê·ªëi ph∆∞∆°ng u·ªëng 1 ly.", en: "LUCKY! You are exempt from penalty this time. Partner takes a drink."}, icon: "üçÄ" },
                { id: 47, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "QUY·ªÄN L·ª∞C! B·∫°n ƒë∆∞·ª£c y√™u c·∫ßu ƒë·ªëi ph∆∞∆°ng l√†m 1 ƒëi·ªÅu (nh·ªè).", en: "POWER! You get to ask your partner to do one (small) thing."}, icon: "üëë" },
                { id: 48, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "ƒê·ªíNG ƒê·ªòI! C·∫£ hai c√πng u·ªëng 1 ly.", en: "TEAM UP! Both take a drink."}, icon: "üçª" },
                { id: 49, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "ƒê·ªîI VAI! ƒê·ªëi ph∆∞∆°ng r√∫t l√° ti·∫øp theo thay b·∫°n.", en: "SWITCH ROLES! Partner draws the next card instead of you."}, icon: "üîÑ" },
                { id: 50, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "TR√öNG TH∆Ø·ªûNG! B·∫°n ƒë∆∞·ª£c ch·ªçn 1 l√° b·∫•t k·ª≥ ƒë√£ qua ƒë·ªÉ th·ª±c hi·ªán l·∫°i (n·∫øu c√≥).", en: "PRIZE! You get to choose any previous card to do again (if applicable)."}, icon: "üèÜ" },
                { id: 51, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "CHIA S·∫∫! C·∫£ hai c√πng k·ªÉ m·ªôt b√≠ m·∫≠t nh·ªè ch∆∞a t·ª´ng n√≥i.", en: "SHARE! Both share a small, unsaid secret."}, icon: "üí¨" },
                { id: 52, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "N√ìNG B·ªéNG! Ng∆∞·ªùi r√∫t b√†i ph·∫£i c·ªüi 2 m√≥n ƒë·ªì.", en: "STEAMY! The card drawer must remove 2 items of clothing."}, icon: "üî•üëö" },
                { id: 53, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "TH·∫¨T TH√Ä! ƒê·ªëi ph∆∞∆°ng ph·∫£i tr·∫£ l·ªùi th·∫≠t l√≤ng 1 c√¢u h·ªèi b·∫•t k·ª≥ c·ªßa b·∫°n.", en: "TRUTHFUL! Partner must honestly answer any one question from you."}, icon: "üó£Ô∏è‚ùì" },
                { id: 54, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "NHANH NH∆Ø CH·ªöP! C·∫£ hai c√πng h√¥n nhau 5 ki·ªÉu kh√°c nhau trong 30 gi√¢y.", en: "LIGHTNING FAST! Both kiss each other 5 different ways in 30 seconds."}, icon: "‚ö°üíã" },
                { id: 55, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "T·∫†M D·ª™NG! D·ª´ng ch∆°i 5 ph√∫t ƒë·ªÉ tr√≤ chuy·ªán ho·∫∑c l√†m g√¨ t√πy th√≠ch.", en: "PAUSE! Stop playing for 5 minutes to chat or do whatever you like."}, icon: "‚è∏Ô∏è" },
                { id: 56, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "TH√ÅCH ƒê·∫§U! B·∫°n th√°ch ƒë·ªëi ph∆∞∆°ng l√†m m·ªôt vi·ªác (an to√†n). N·∫øu h·ªç kh√¥ng l√†m, h·ªç u·ªëng 2 ly. N·∫øu l√†m, b·∫°n u·ªëng 1 ly.", en: "CHALLENGE! Dare your partner to do something (safe). If they don't, they drink twice. If they do, you drink once."}, icon: "‚öîÔ∏è" },
                { id: 57, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "N·ª§ H√îN B·∫§T NG·ªú! Nh·∫Øm m·∫Øt l·∫°i, ƒë·ªëi ph∆∞∆°ng s·∫Ω h√¥n b·∫°n ·ªü m·ªôt n∆°i b·∫•t ng·ªù.", en: "SURPRISE KISS! Close your eyes, partner will kiss you in an unexpected place."}, icon: "üòòüôà" },
                { id: 58, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "TI·∫æT L·ªò! Ti·∫øt l·ªô m·ªôt ƒëi·ªÅu b·∫°n th√≠ch v·ªÅ c√°ch ƒë·ªëi ph∆∞∆°ng \"y√™u\".", en: "REVEAL! Reveal something you like about how your partner makes love."}, icon: "üíñ" },
                { id: 59, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "CH·ªåN M·ªòT! ƒê·ªëi ph∆∞∆°ng ƒë∆∞·ª£c ch·ªçn: c·ªüi 1 m√≥n ƒë·ªì ho·∫∑c u·ªëng 2 ly.", en: "CHOOSE ONE! Partner chooses: remove 1 item of clothing or take 2 drinks."}, icon: "‚öñÔ∏è" },
                { id: 60, category: {vi: "ƒê·∫∑c Bi·ªát", en: "Special"}, text: {vi: "K·∫æT TH√öC NG·ªåT NG√ÄO! C·∫£ hai c√πng u·ªëng c·∫°n ly v√† √¥m h√¥n nhau th·∫≠t l√¢u.", en: "SWEET ENDING! Both finish your drinks and share a long, loving hug and kiss."}, icon: "üîö‚ù§Ô∏è" },
                // T∆∞ Th·∫ø N√≥ng B·ªèng (10)
                { id: 61, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "C√πng nhau th·ª≠ t∆∞ th·∫ø \"√öp th√¨a\" v√† c·∫£m nh·∫≠n s·ª± g·∫ßn g≈©i.", en: "Try the \"Spooning\" position together and feel the closeness."}, icon: "üõåü•Ñ" },
                { id: 62, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "G·ª£i √Ω t∆∞ th·∫ø \"N·ªØ cao b·ªìi\". Ai s·∫Ω l√† ng∆∞·ªùi d·∫´n d·∫Øt?", en: "Suggest the \"Cowgirl\" position. Who will take the lead?"}, icon: "ü§†üèá" },
                { id: 63, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "Th·ª≠ t∆∞ th·∫ø \"Doggy\" v√† kh√°m ph√° g√≥c nh√¨n m·ªõi.", en: "Try the \"Doggy\" style and explore a new perspective."}, icon: "üêïüêæ" },
                { id: 64, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "T∆∞ th·∫ø \"Lotus\" (Hoa Sen) - Th√¢n m·∫≠t v√† s√¢u l·∫Øng.", en: "\"Lotus\" position - Intimate and deep."}, icon: "üßò‚Äç‚ôÄÔ∏èüßò‚Äç‚ôÇÔ∏è" },
                { id: 65, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "Kh√°m ph√° t∆∞ th·∫ø \"69\" - C√πng nhau l√™n ƒë·ªânh.", en: "Explore the \"69\" position - Reach the peak together."}, icon: "üîÑüíã" },
                { id: 66, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "T∆∞ th·∫ø \"Truy·ªÅn gi√°o\" bi·∫øn t·∫•u - Thay ƒë·ªïi nh·ªãp ƒëi·ªáu v√† g√≥c ƒë·ªô.", en: "Modified \"Missionary\" position - Vary the rhythm and angle."}, icon: "üïäÔ∏èüõê" },
                { id: 67, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "ƒê·ª©ng v√† d·ª±a v√†o t∆∞·ªùng - M·ªôt ch√∫t phi√™u l∆∞u.", en: "Standing and leaning against the wall - A little adventure."}, icon: "üß±üíÉ" },
                { id: 68, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "Tr√™n gh·∫ø sofa - T·∫≠n d·ª•ng kh√¥ng gian quen thu·ªôc.", en: "On the sofa - Utilize familiar space."}, icon: "üõãÔ∏èüî•" },
                { id: 69, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "Th√¨ th·∫ßm m·ªôt t∆∞ th·∫ø b·∫°n mu·ªën th·ª≠ nh·∫•t v√†o tai ƒë·ªëi ph∆∞∆°ng. Th·ª±c hi·ªán sau.", en: "Whisper a position you most want to try into your partner's ear. Do it later."}, icon: "ü§´üíû" },
                { id: 70, category: {vi: "T∆∞ Th·∫ø N√≥ng B·ªèng", en: "Steamy Pose"}, text: {vi: "ƒê·ªÉ ƒë·ªëi ph∆∞∆°ng ch·ªçn m·ªôt t∆∞ th·∫ø t·ª´ m·ªôt b·ªô phim/·∫£nh 18+. C√πng nhau di·ªÖn l·∫°i.", en: "Let your partner choose a position from an 18+ movie/picture. Re-enact it together."}, icon: "üé¨üîû" },
                // Th·ª≠ Th√°ch T√°o B·∫°o (10)
                { id: 71, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "Hand Job: D√πng tay k√≠ch th√≠ch \"c·∫≠u b√©\" c·ªßa ch√†ng cho ƒë·∫øn khi ch√†ng y√™u c·∫ßu d·ª´ng l·∫°i ho·∫∑c... h∆°n th·∫ø n·ªØa.", en: "Hand Job: Use your hand to stimulate his \"member\" until he asks you to stop or... more."}, icon: "üñêÔ∏èüçÜ" },
                { id: 72, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "Blow Job: D√πng mi·ªáng chi·ªÅu chu·ªông \"c·∫≠u b√©\" c·ªßa ch√†ng. H√£y s√°ng t·∫°o v√† ƒëam m√™!", en: "Blow Job: Use your mouth to please his \"member\". Be creative and passionate!"}, icon: "üëÑüçÜ" },
                { id: 73, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "Anal Sex: N·∫øu c·∫£ hai ƒë·ªìng √Ω v√† chu·∫©n b·ªã k·ªπ c√†ng (b√¥i tr∆°n l√† b·∫Øt bu·ªôc!), h√£y c√πng nhau kh√°m ph√° \"c·ª≠a sau\" m·ªôt c√°ch nh·∫π nh√†ng.", en: "Anal Sex: If both consent and are well-prepared (lube is a must!), gently explore the \"back door\" together."}, icon: "üçëüëâ" },
                { id: 74, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "BDSM Nh·∫π Nh√†ng: B·ªãt m·∫Øt ƒë·ªëi ph∆∞∆°ng v√† d√πng m·ªôt chi·∫øc l√¥ng v≈© ho·∫∑c khƒÉn l·ª•a tr√™u ch·ªçc kh·∫Øp c∆° th·ªÉ h·ªç. ƒê·ª´ng b·ªè qua nh·ªØng ƒëi·ªÉm nh·∫°y c·∫£m.", en: "Light BDSM: Blindfold your partner and use a feather or silk scarf to tease their entire body. Don't miss sensitive spots."}, icon: "üé≠ü™∂" },
                { id: 75, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "Dirty Talk: Trong l√∫c th√¢n m·∫≠t, h√£y n√≥i nh·ªØng l·ªùi l·∫Ω t·ª•c tƒ©u, g·ª£i t√¨nh nh·∫•t b·∫°n c√≥ th·ªÉ nghƒ© ra ƒë·ªÉ l√†m ƒë·ªëi ph∆∞∆°ng \"ph√°t ƒëi√™n\".", en: "Dirty Talk: During intimacy, say the dirtiest, most erotic things you can think of to drive your partner wild."}, icon: "üí¨üòà" },
                { id: 76, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "Role Play ƒêam M√™: C·∫£ hai c√πng ch·ªçn m·ªôt k·ªãch b·∫£n n√≥ng b·ªèng (v√≠ d·ª•: ng∆∞·ªùi l·∫° g·∫∑p nhau ·ªü qu√°n bar, s·∫øp v√† nh√¢n vi√™n sau gi·ªù l√†m) v√† nh·∫≠p vai ho√†n to√†n trong 10 ph√∫t.", en: "Passionate Role Play: Both choose a steamy scenario (e.g., strangers at a bar, boss and employee after hours) and fully role-play for 10 minutes."}, icon: "üë®‚Äçüè´üë©‚Äçüéì" },
                { id: 77, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "S·ª≠ d·ª•ng ƒë·ªì ch∆°i t√¨nh d·ª•c (n·∫øu c√≥ v√† c·∫£ hai ƒë·ªìng √Ω). H√£y ƒë·ªÉ n√≥ d·∫´n d·∫Øt v√† kh√°m ph√° nh·ªØng kho√°i c·∫£m m·ªõi l·∫°.", en: "Use sex toys (if available and consensual). Let them guide you to explore new pleasures."}, icon: "üß∏‚ö°" },
                { id: 78, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "Teasing & Denial: Tr√™u ch·ªçc ƒë·ªëi ph∆∞∆°ng ƒë·∫øn ƒë·ªânh ƒëi·ªÉm r·ªìi d·ª´ng l·∫°i. L·∫∑p l·∫°i v√†i l·∫ßn tr∆∞·ªõc khi cho h·ªç \"v·ªÅ ƒë√≠ch\".", en: "Teasing & Denial: Tease your partner to the brink of orgasm, then stop. Repeat a few times before letting them \"finish\"."}, icon: "‚è≥üòº" },
                { id: 79, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "C√πng nhau xem m·ªôt ƒëo·∫°n phim 18+ b·∫°n ch·ªçn. Sau ƒë√≥, th·ª≠ m√¥ ph·ªèng l·∫°i m·ªôt c·∫£nh ho·∫∑c h√†nh ƒë·ªông b·∫°n th·∫•y k√≠ch th√≠ch nh·∫•t.", en: "Watch an 18+ movie clip of your choice together. Then, try to simulate a scene or action you found most arousing."}, icon: "üéûÔ∏èüî•" },
                { id: 80, category: {vi: "Th·ª≠ Th√°ch T√°o B·∫°o", en: "Daring Challenge"}, text: {vi: "QUICKIE T√ÅO B·∫†O! T√¨m m·ªôt n∆°i b·∫•t ng·ªù nh·∫•t trong nh√† (kh√¥ng ph·∫£i ph√≤ng ng·ªß) v√† \"y√™u nhanh\" ƒë·∫ßy ƒëam m√™ trong 5 ph√∫t.", en: "DARING QUICKIE! Find the most unexpected place in the house (not the bedroom) and have a passionate quickie for 5 minutes."}, icon: "‚ö°üè†" }
            ];
            const predefinedPoses = [
                { name: {vi: "Doggy Style (Ki·ªÉu ch√≥)", en: "Doggy Style"}, description: {vi: "M·ªôt ng∆∞·ªùi qu·ª≥, ng∆∞·ªùi kia th√¢m nh·∫≠p t·ª´ ph√≠a sau.", en: "One person kneels, the other penetrates from behind."}, reason: {vi: "Th√¢m nh·∫≠p s√¢u, k√≠ch th√≠ch ƒëi·ªÉm G, c·∫£m gi√°c m√£nh li·ªát.", en: "Deep penetration, G-spot stimulation, intense sensation."}, icon: "üêïüêæ" },
                { name: {vi: "Missionary Bi·∫øn th·ªÉ (Truy·ªÅn gi√°o n√¢ng cao)", en: "Advanced Missionary"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi n·∫±m ng·ª≠a, k√™ g·ªëi d∆∞·ªõi h√¥ng, ch√¢n c√≥ th·ªÉ g√°c l√™n vai ng∆∞·ªùi kia.", en: "Person underneath lies supine, pillow under hips, legs can rest on partner's shoulders."}, reason: {vi: "G√≥c th√¢m nh·∫≠p linh ho·∫°t, tƒÉng k·∫øt n·ªëi t√¨nh c·∫£m.", en: "Flexible penetration angle, enhances emotional connection."}, icon: "üïäÔ∏èüõê" },
                { name: {vi: "Cowgirl/Reverse Cowgirl (C∆∞·ª°i ng·ª±a)", en: "Cowgirl/Reverse Cowgirl"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi n·∫±m, ng∆∞·ªùi kia ng·ªìi tr√™n, m·∫∑t ƒë·ªëi m·∫∑t ho·∫∑c quay l∆∞ng.", en: "Person underneath lies down, the other sits on top, facing each other or away."}, reason: {vi: "Ng∆∞·ªùi tr√™n ki·ªÉm so√°t nh·ªãp ƒë·ªô, k√≠ch th√≠ch th·ªã gi√°c.", en: "Top person controls the pace, visual stimulation."}, icon: "ü§†üèá" },
                { name: {vi: "Spooning (√öp th√¨a)", en: "Spooning"}, description: {vi: "C·∫£ hai n·∫±m nghi√™ng, ng∆∞·ªùi sau √¥m v√† th√¢m nh·∫≠p.", en: "Both lie on their sides, the person behind cuddles and penetrates."}, reason: {vi: "Nh·∫π nh√†ng, th√¢n m·∫≠t, d·ªÖ k√≠ch th√≠ch v√πng nh·∫°y c·∫£m.", en: "Gentle, intimate, easy to stimulate sensitive areas."}, icon: "üõåü•Ñ" },
                { name: {vi: "Standing (ƒê·ª©ng)", en: "Standing"}, description: {vi: "M·ªôt ng∆∞·ªùi ƒë·ª©ng, ng∆∞·ªùi kia qu·∫•n ch√¢n quanh h√¥ng ho·∫∑c d·ª±a v√†o t∆∞·ªùng.", en: "One person stands, the other wraps legs around their waist or leans against a wall."}, reason: {vi: "Phi√™u l∆∞u, ph√π h·ª£p nh√† t·∫Øm, b·∫øp.", en: "Adventurous, suitable for shower, kitchen."}, icon: "üß±üíÉ" },
                { name: {vi: "T∆∞ th·∫ø 69", en: "69 Position"}, description: {vi: "C·∫£ hai n·∫±m v√≤ng tr√≤n, k√≠ch th√≠ch b·∫±ng mi·ªáng ƒë·ªìng th·ªùi.", en: "Both lie in a circle, stimulating each other orally at the same time."}, reason: {vi: "C√πng cho v√† nh·∫≠n kho√°i c·∫£m, tƒÉng g·∫Øn k·∫øt.", en: "Mutual giving and receiving of pleasure, increases bonding."}, icon: "üîÑüíã" },
                { name: {vi: "Lotus (Hoa sen)", en: "Lotus"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi ng·ªìi b·∫Øt ch√©o ch√¢n, ng∆∞·ªùi kia ng·ªìi l√™n ƒë√πi, m·∫∑t ƒë·ªëi m·∫∑t.", en: "Person underneath sits cross-legged, the other sits on their lap, face to face."}, reason: {vi: "L√£ng m·∫°n, g·∫ßn g≈©i, d·ªÖ √¥m v√† h√¥n.", en: "Romantic, close, easy to hug and kiss."}, icon: "üßò‚Äç‚ôÄÔ∏èüßò‚Äç‚ôÇÔ∏è" },
                { name: {vi: "Bridge (C·∫ßu v·ªìng)", en: "Bridge"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi n√¢ng h√¥ng nh∆∞ t∆∞ th·∫ø yoga, ng∆∞·ªùi kia th√¢m nh·∫≠p.", en: "Person underneath lifts hips like a yoga pose, partner penetrates."}, reason: {vi: "G√≥c ƒë·ªôc ƒë√°o, th√¢m nh·∫≠p s√¢u, th·ª≠ th√°ch.", en: "Unique angle, deep penetration, challenging."}, icon: "üåâü§∏" },
                { name: {vi: "Scissor (K√©o c·∫Øt)", en: "Scissoring"}, description: {vi: "C·∫£ hai n·∫±m/ng·ªìi, ch√¢n ƒëan ch√©o, v√πng x∆∞∆°ng ch·∫≠u ti·∫øp x√∫c.", en: "Both lie/sit, legs intertwined, pelvic areas in contact."}, reason: {vi: "G√≥c l·∫°, c·ªç x√°t nh·ªãp nh√†ng.", en: "Unusual angle, rhythmic rubbing."}, icon: "‚úÇÔ∏èü¶µ" },
                { name: {vi: "Plow (C√°i c√†y)", en: "Plow"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi n·∫±m ng·ª≠a, ch√¢n n√¢ng qua ƒë·∫ßu, ng∆∞·ªùi kia th√¢m nh·∫≠p t·ª´ sau.", en: "Person underneath lies supine, legs lifted over head, partner penetrates from behind."}, reason: {vi: "K√≠ch th√≠ch s√¢u, c·∫ßn s·ª± d·∫ªo dai.", en: "Deep stimulation, requires flexibility."}, icon: "ü§∏‚Äç‚ôÄÔ∏èü§∏‚Äç‚ôÇÔ∏è" },
                { name: {vi: "Butterfly (Con b∆∞·ªõm)", en: "Butterfly"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi n·∫±m c·∫°nh gi∆∞·ªùng, ch√¢n m·ªü r·ªông, ng∆∞·ªùi kia ƒë·ª©ng/qu·ª≥.", en: "Person underneath lies at the edge of the bed, legs open wide, partner stands/kneels."}, reason: {vi: "Ti·∫øp x√∫c t·ªëi ∆∞u, d·ªÖ ƒëi·ªÅu ch·ªânh.", en: "Optimal contact, easy to adjust."}, icon: "ü¶ãüõå" },
                { name: {vi: "Sidekick (ƒê√° b√™n)", en: "Sidekick"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi n·∫±m s·∫•p, m·ªôt ch√¢n co, ng∆∞·ªùi kia th√¢m nh·∫≠p t·ª´ g√≥c nghi√™ng.", en: "Person underneath lies prone, one leg bent, partner penetrates from an angle."}, reason: {vi: "K·∫øt h·ª£p n·∫±m s·∫•p v√† nghi√™ng, tho·∫£i m√°i.", en: "Combines prone and side positions, comfortable."}, icon: "ü§∏‚Äç‚ôÇÔ∏èüìê" },
                { name: {vi: "Pretzel (B√°nh quy xo·∫Øn)", en: "Pretzel"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi n·∫±m nghi√™ng, m·ªôt ch√¢n co, ng∆∞·ªùi kia qu·ª≥ v√† th√¢m nh·∫≠p.", en: "Person underneath lies on their side, one leg bent, partner kneels and penetrates."}, reason: {vi: "K·∫øt h·ª£p ƒë·ªô s√¢u v√† s·ª± th√¢n m·∫≠t.", en: "Combines depth and intimacy."}, icon: "ü•®ü§∏‚Äç‚ôÄÔ∏è" },
                { name: {vi: "Chair (Gh·∫ø)", en: "Chair"}, description: {vi: "M·ªôt ng∆∞·ªùi ng·ªìi tr√™n gh·∫ø, ng∆∞·ªùi kia ng·ªìi l√™n ƒë√πi, m·∫∑t ƒë·ªëi m·∫∑t ho·∫∑c quay l∆∞ng.", en: "One person sits on a chair, the other sits on their lap, facing each other or away."}, reason: {vi: "T√°o b·∫°o, th·ª≠ nghi·ªám ngo√†i gi∆∞·ªùng.", en: "Daring, experiment outside the bed."}, icon: "ü™ëüî•" },
                { name: {vi: "G-Whiz", en: "G-Whiz"}, description: {vi: "Ng∆∞·ªùi d∆∞·ªõi n·∫±m ng·ª≠a, ch√¢n g√°c l√™n vai ng∆∞·ªùi kia, th√¢m nh·∫≠p t·ª´ tr√™n.", en: "Person underneath lies supine, legs over partner's shoulders, penetration from above."}, reason: {vi: "T·ªëi ∆∞u k√≠ch th√≠ch ƒëi·ªÉm G, kho√°i c·∫£m m·∫°nh.", en: "Optimal G-spot stimulation, intense pleasure."}, icon: "üéØüåü" }
            ];


            let workingDeck = [];
            let drawnCardsHistory = [];
            let currentLanguage = 'vi'; 
            let previousPage = 'landing'; 

            // C√°c ph·∫ßn t·ª≠ DOM c·ªßa game (ƒë√£ ƒë∆∞·ª£c khai b√°o ·ªü ƒë·∫ßu)

            function populateLanguageSwitcher() {
                const langData = {
                    'vi': { name: 'Ti·∫øng Vi·ªát', flag: 'üáªüá≥' },
                    'en': { name: 'English', flag: 'üá¨üáß' }
                };

                if (languageSwitcher) {
                    languageSwitcher.innerHTML = ''; 
                    Object.keys(langData).forEach(langCode => {
                        if (translations[langCode]) { 
                            const button = document.createElement('button');
                            button.dataset.lang = langCode;
                            button.innerHTML = `<span class="flag">${langData[langCode].flag}</span> ${langData[langCode].name}`;
                            languageSwitcher.appendChild(button);
                        }
                    });
                }
            }

            function applyTranslations() {
                document.querySelectorAll('[data-translate-key]').forEach(element => {
                    const key = element.dataset.translateKey;
                    const langPack = translations[currentLanguage] || translations['vi']; 

                    if (element.tagName === 'UL' && langPack[key] && Array.isArray(langPack[key])) { 
                        let listHTML = '';
                        const listItemsArray = langPack[key]; 
                        listItemsArray.forEach(itemText => {
                            if (typeof itemText === 'string') { 
                                listHTML += `<li>${itemText}</li>`;
                            } else {
                                console.warn(`Item in list for key "${key}" is not a string:`, itemText);
                                listHTML += `<li>[Translation Error]</li>`; 
                            }
                        });
                        element.innerHTML = listHTML; 
                    } else if (langPack[key] && typeof langPack[key] === 'string') { 
                        element.innerHTML = langPack[key];
                    } else {
                        const defaultLangPack = translations['vi'];
                         if (defaultLangPack && defaultLangPack[key] && typeof defaultLangPack[key] === 'string') {
                           element.innerHTML = defaultLangPack[key];
                        } else if (defaultLangPack && defaultLangPack[key] && Array.isArray(defaultLangPack[key]) && element.tagName === 'UL') {
                             let listHTML = '';
                            const listItemsArray = defaultLangPack[key];
                            listItemsArray.forEach(itemText => {
                                if (typeof itemText === 'string') {
                                    listHTML += `<li>${itemText}</li>`;
                                } else {
                                    listHTML += `<li>[Fallback Error]</li>`;
                                }
                            });
                            element.innerHTML = listHTML;
                        } 
                    }
                });
                if (cardPlaceholder && cardPlaceholder.style.display !== 'none') {
                    const pElement = cardPlaceholder.querySelector('p');
                    if (pElement) {
                        pElement.textContent = (translations[currentLanguage] && translations[currentLanguage]['card_placeholder_text']) || translations['vi']['card_placeholder_text'];
                    }
                }
                updateCardsRemainingDisplay();
                if (youtubeAudioToggleButton) { 
                     youtubeAudioToggleButton.innerHTML = (translations[currentLanguage] && (isYoutubeAudioPlaying ? translations[currentLanguage]['pause_youtube_audio_button'] : translations[currentLanguage]['play_youtube_audio_button'])) || (isYoutubeAudioPlaying ? translations['vi']['pause_youtube_audio_button'] : translations['vi']['play_youtube_audio_button']);
                }
            }
            
            function changeLanguage(lang) {
                if (translations[lang]) {
                    currentLanguage = lang;
                    document.documentElement.lang = lang; 
                    localStorage.setItem('preferredLanguage', lang);
                    applyTranslations();
                    document.querySelectorAll('.language-switcher button').forEach(btn => {
                        btn.classList.remove('active');
                        if (btn.dataset.lang === lang) {
                            btn.classList.add('active');
                        }
                    });
                }
            }

            if (languageSwitcher) {
                languageSwitcher.addEventListener('click', (event) => {
                    if (event.target.closest('button')) { 
                        const lang = event.target.closest('button').dataset.lang;
                        if(lang) changeLanguage(lang);
                    }
                });
            }


            function initializeLanguage() {
                populateLanguageSwitcher(); 
                let preferredLang = localStorage.getItem('preferredLanguage');
                if (!preferredLang || !translations[preferredLang]) { 
                    const browserLang = navigator.language.split('-')[0];
                    if (translations[browserLang]) {
                        preferredLang = browserLang;
                    } else {
                        preferredLang = 'vi'; 
                    }
                }
                changeLanguage(preferredLang);
            }
            
            function showPage(pageId) {
                document.querySelectorAll('.page-section').forEach(section => {
                    if (section) section.classList.remove('active');
                });
                const pageToShow = document.getElementById(pageId);
                if (pageToShow) {
                    pageToShow.classList.add('active');
                }

                const isCommentPage = pageId === 'commentFeedPage';
                if (topBarControls) {
                    topBarControls.classList.toggle('hidden', isCommentPage);
                    document.body.style.paddingTop = isCommentPage ? '20px' : '70px';
                }
                if (openCommentPageButton) {
                    openCommentPageButton.classList.toggle('hidden', isCommentPage);
                }

            }
            
            if (startGameButton) {
                startGameButton.addEventListener('click', () => {
                    previousPage = 'game'; 
                    showPage('gameContainer');
                    initializeDeck(); 
                    if (Tone.context.state !== 'running') {
                        Tone.start().catch(e => console.error("Tone.start error on game start:", e)); 
                    }
                });
            }


            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            function initializeDeck() {
                const steamyPoseCategoryVI = translations['vi']['T∆∞ Th·∫ø N√≥ng B·ªèng'];
                const steamyPoseCategoryEN = translations['en']['Steamy Pose'];

                let normalCards = [];
                let steamyCards = [];

                cardData.forEach(card => {
                    if (card.category.vi === steamyPoseCategoryVI || card.category.en === steamyPoseCategoryEN) {
                        steamyCards.push(card);
                    } else {
                        normalCards.push(card);
                    }
                });

                shuffleArray(normalCards);
                shuffleArray(steamyCards);
                workingDeck = [...normalCards, ...steamyCards];
                
                drawnCardsHistory = [];
                updateCardsRemainingDisplay(); 
                
                if(drawnCardElement) drawnCardElement.style.display = 'none';
                if(drawnCardElement) drawnCardElement.classList.remove('special-effect-card'); 
                if(cardPlaceholder) cardPlaceholder.style.display = 'flex';
                if(cardPlaceholder) {
                    const pElement = cardPlaceholder.querySelector('p');
                    if(pElement) pElement.textContent = (translations[currentLanguage] && translations[currentLanguage]['card_placeholder_text']) || translations['vi']['card_placeholder_text']; 
                }
                if(drawButton) drawButton.style.display = 'inline-block';
                if(resetButton) resetButton.style.display = 'none';
            }

            function updateCardsRemainingDisplay() { 
                const prefix = (translations[currentLanguage] && translations[currentLanguage]['cards_remaining_text_prefix']) || "C√≤n l·∫°i:";
                const suffix = (translations[currentLanguage] && translations[currentLanguage]['cards_remaining_text_suffix']) || "l√°";
                if(cardsRemainingElement) cardsRemainingElement.textContent = `${prefix} ${workingDeck.length} ${suffix}`.trim();
            }

            const synth = new Tone.MembraneSynth({
                pitchDecay: 0.03,
                octaves: 6,
                oscillator: { type: "sine" },
                envelope: { attack: 0.001, decay: 0.5, sustain: 0.01, release: 0.8, attackCurve: "bounce" }
            }).toDestination();
             const fmSynth = new Tone.FMSynth({
                harmonicity: 3.01,
                modulationIndex: 14,
                envelope: { attack: 0.01, decay: 0.1, sustain:0.01, release:0.1},
                modulationEnvelope: { attack: 0.01, decay: 0.5, sustain:0.01, release:0.1 }
            }).toDestination();


            const specialCardSound = () => {
                if (Tone.context.state !== 'running') Tone.start().catch(e => console.error("Tone.start error in specialCardSound:", e));
                 fmSynth.triggerAttackRelease("C5", "8n", Tone.now());
                 fmSynth.triggerAttackRelease("G5", "8n", Tone.now() + 0.2);
            };

            const hotStuffSound = () => {
                if (Tone.context.state !== 'running') Tone.start().catch(e => console.error("Tone.start error in hotStuffSound:", e));
                const now = Tone.now();
                const sexySynth = new Tone.FMSynth({
                    harmonicity: 1.2,
                    modulationIndex: 5,
                    detune: 0,
                    oscillator: { type: "sine" },
                    envelope: { attack: 0.05, decay: 0.3, sustain: 0.1, release: 0.8 },
                    modulation: { type: "sine" },
                    modulationEnvelope: { attack: 0.1, decay: 0.2, sustain: 0.3, release: 0.8 },
                    volume: -8
                }).toDestination();
                const reverb = new Tone.Reverb(0.7).toDestination();
                sexySynth.connect(reverb);

                sexySynth.triggerAttackRelease("F#2", "4n", now);
                sexySynth.triggerAttackRelease("A#2", "4n", now + 0.3);
                sexySynth.triggerAttackRelease("C#3", "2n", now + 0.6);
            };

            function displayCard(card) {
                if(cardPlaceholder) cardPlaceholder.style.display = 'none';
                if(drawnCardElement) drawnCardElement.style.display = 'flex';
                
                if(drawnCardElement) drawnCardElement.classList.remove('special-effect-card'); 
                
                if(drawnCardElement) drawnCardElement.style.animation = 'none';
                if(drawnCardElement) void drawnCardElement.offsetWidth; 

                const cardCategoryText = (card.category && card.category[currentLanguage]) || (card.category && card.category['vi']) || "Category"; 
                const cardContentText = (card.text && card.text[currentLanguage]) || (card.text && card.text['vi']) || "Card Text";

                const translatedSteamyPoseKey = 'T∆∞ Th·∫ø N√≥ng B·ªèng';
                const translatedDaringChallengeKey = 'Th·ª≠ Th√°ch T√°o B·∫°o';
                const translatedSpecialKey = 'ƒê·∫∑c Bi·ªát';

                const currentLangSteamyPose = (translations[currentLanguage] && translations[currentLanguage][translatedSteamyPoseKey]) || translations['vi'][translatedSteamyPoseKey];
                const currentLangDaringChallenge = (translations[currentLanguage] && translations[currentLanguage][translatedDaringChallengeKey]) || translations['vi'][translatedDaringChallengeKey];
                const currentLangSpecial = (translations[currentLanguage] && translations[currentLanguage][translatedSpecialKey]) || translations['vi'][translatedSpecialKey];


                if (cardCategoryText === currentLangSteamyPose || cardCategoryText === currentLangDaringChallenge) {
                    if(drawnCardElement) drawnCardElement.classList.add('special-effect-card');
                    hotStuffSound(); 
                } else if (cardCategoryText === currentLangSpecial) {
                    if(drawnCardElement) drawnCardElement.classList.add('special-effect-card'); 
                    specialCardSound(); 
                }
                 else {
                    if(drawnCardElement) drawnCardElement.style.animation = 'dealInBasic 0.5s cubic-bezier(0.215, 0.610, 0.355, 1), flipInCardBasic 0.7s 0.5s ease-out forwards';
                }

                if(cardCategoryElement) cardCategoryElement.textContent = cardCategoryText;
                if(cardIconElement) cardIconElement.textContent = card.icon;
                if(cardTextElement) cardTextElement.innerHTML = cardContentText.replace(/\n/g, '<br>'); 
            }

            function drawCard() {
                if (Tone.context.state !== 'running') { 
                    Tone.start().then(() => {
                        if (workingDeck.length > 0) {
                            processDrawCard();
                        }
                    }).catch(e => console.error("Tone.start error in drawCard:", e));
                } else {
                    if (workingDeck.length > 0) {
                        processDrawCard();
                    }
                }
            }

            function processDrawCard() {
                const card = workingDeck.pop();
                drawnCardsHistory.push(card);
                displayCard(card);
                updateCardsRemainingDisplay();

                if (workingDeck.length === 0) {
                    if(drawButton) drawButton.style.display = 'none';
                    if(resetButton) resetButton.style.display = 'inline-block';
                    if(cardsRemainingElement) cardsRemainingElement.textContent = (translations[currentLanguage] && translations[currentLanguage]['no_cards_left_text']) || translations['vi']['no_cards_left_text'];
                }
            }
            
            // --- YouTube Audio Logic ---
            function onYouTubeIframeAPIReady() {
                if(ytPlayer) return; 
                ytPlayer = new YT.Player('youtube-player', {
                    height: '0', 
                    width: '0',  
                    videoId: YOUTUBE_VIDEO_ID,
                    playerVars: {
                        'autoplay': 0, 
                        'controls': 0, 
                        'loop': 1,     
                        'playlist': YOUTUBE_VIDEO_ID 
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                });
            }
            window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady; 

            function onPlayerReady(event) {
                // Player s·∫µn s√†ng
            }

            function onPlayerStateChange(event) {
                const langPack = translations[currentLanguage] || translations['vi'];
                if (event.data == YT.PlayerState.PLAYING) {
                    isYoutubeAudioPlaying = true;
                    if (youtubeAudioToggleButton) youtubeAudioToggleButton.innerHTML = langPack.pause_youtube_audio_button || '‚è∏Ô∏è T·∫Øt Nh·∫°c';
                } else {
                    isYoutubeAudioPlaying = false;
                     if (youtubeAudioToggleButton) youtubeAudioToggleButton.innerHTML = langPack.play_youtube_audio_button || '‚ñ∂Ô∏è Nghe Nh·∫°c';
                }
            }

            function toggleYoutubeAudio() {
                if (Tone.context.state !== 'running') {
                    Tone.start().catch(e => console.error("Tone.start error in toggleYoutubeAudio:", e));
                }
                if (!ytPlayer || typeof ytPlayer.getPlayerState !== 'function') {
                    console.log("YouTube Player not ready yet.");
                    if (!window.YT || !window.YT.Player) { 
                        var tag = document.createElement('script');
                        tag.src = "https://www.youtube.com/iframe_api";
                        var firstScriptTag = document.getElementsByTagName('script')[0];
                        if (firstScriptTag && firstScriptTag.parentNode) {
                             firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
                        } else {
                            document.head.appendChild(tag);
                        }
                    } else if (!ytPlayer) { 
                         onYouTubeIframeAPIReady(); 
                    }
                    return;
                }

                if (isYoutubeAudioPlaying) {
                    ytPlayer.pauseVideo();
                } else {
                    ytPlayer.playVideo();
                }
            }

            if (youtubeAudioToggleButton) {
                youtubeAudioToggleButton.addEventListener('click', toggleYoutubeAudio);
            }
            
            var tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            if (firstScriptTag && firstScriptTag.parentNode) {
                 firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            } else {
                document.head.appendChild(tag);
            }
            // --------------------------


            function displayRandomPredefinedPose() {
                if (Tone.context.state !== 'running') Tone.start().catch(e => console.error("Tone.start error in displayRandomPredefinedPose:", e)); 
                if (predefinedPoses.length > 0) {
                    const randomIndex = Math.floor(Math.random() * predefinedPoses.length);
                    const pose = predefinedPoses[randomIndex];
                    
                    const poseName = (pose.name && pose.name[currentLanguage]) || (pose.name && pose.name['vi']) || "Pose Name";
                    const poseDescription = (pose.description && pose.description[currentLanguage]) || (pose.description && pose.description['vi']) || "Pose Description";
                    const poseReason = (pose.reason && pose.reason[currentLanguage]) || (pose.reason && pose.reason['vi']) || "Pose Reason";

                    if(poseModalTitle) poseModalTitle.textContent = (translations[currentLanguage] && translations[currentLanguage]['pose_modal_title_text']) || "üî• T∆∞ Th·∫ø Ng·∫´u Nhi√™n 21+ üî•"; 
                    if(poseModalText) poseModalText.innerHTML = `
                        <p>
                            <strong>${pose.icon ? pose.icon + ' ' : ''}${poseName}</strong><br>
                            ${poseDescription}<br><br>
                            <em>${poseReason}</em>
                        </p>
                    `;
                    if(poseModal) poseModal.style.display = 'flex'; 
                    hotStuffSound(); 
                } else {
                    if(poseModalTitle) poseModalTitle.textContent = (translations[currentLanguage] && translations[currentLanguage]['Th√¥ng B√°o']) || "Notification"; 
                    if(poseModalText) poseModalText.innerHTML = `<p>${(translations[currentLanguage] && translations[currentLanguage]['no_poses_defined']) || "Kh√¥ng c√≥ t∆∞ th·∫ø n√†o ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a."}</p>`;
                    if(poseModal) poseModal.style.display = 'flex';
                }
            }

            if(predefinedPoseButton) predefinedPoseButton.addEventListener('click', displayRandomPredefinedPose); 

            if(closePoseModalButton) closePoseModalButton.addEventListener('click', () => { 
                if(poseModal) poseModal.style.display = 'none'; 
            });
            
            // --- COMMENT FEED PAGE LOGIC ---
            const adminUsername = "dev team";
            const adminPasswordValue = "22042412";
            const emojis = ['üíñ', 'üî•', 'üíã', 'üòà', 'üòÇ', 'üëç', 'ü§î', 'üéâ', 'ü•Ç', 'üí¶', 'üçÜ', 'üçë'];

            function populateEmojiPicker() {
                if (!emojiPicker) return;
                emojiPicker.innerHTML = '';
                emojis.forEach(emoji => {
                    const emojiSpan = document.createElement('span');
                    emojiSpan.textContent = emoji;
                    emojiSpan.addEventListener('click', () => {
                        if(commentMessageInput) {
                            const cursorPos = commentMessageInput.selectionStart;
                            const textBefore = commentMessageInput.value.substring(0, cursorPos);
                            const textAfter = commentMessageInput.value.substring(cursorPos);
                            commentMessageInput.value = textBefore + emoji + textAfter;
                            commentMessageInput.focus();
                            commentMessageInput.setSelectionRange(cursorPos + emoji.length, cursorPos + emoji.length);
                        }
                    });
                    emojiPicker.appendChild(emojiSpan);
                });
            }

            if(toggleEmojiPickerButton && emojiPicker){
                toggleEmojiPickerButton.addEventListener('click', () => {
                    emojiPicker.classList.toggle('visible');
                });
            }


            if(openCommentPageButton) { 
                openCommentPageButton.addEventListener('click', () => {
                    if (landingPageSection && landingPageSection.classList.contains('active')) {
                        previousPage = 'landing';
                    } else if (gameContainer && gameContainer.classList.contains('active')) {
                        previousPage = 'game';
                    }
                    showPage('commentFeedPage');
                    loadComments(); 
                    populateEmojiPicker();
                });
            }
            if(backToGameFromCommentsButton) {
                backToGameFromCommentsButton.addEventListener('click', () => {
                    showPage(previousPage === 'game' ? 'gameContainer' : 'landingPageSection');
                });
            }
            
            if(commentUserInput) {
                commentUserInput.addEventListener('input', () => {
                    if (commentUserInput.value.toLowerCase() === adminUsername) {
                        if(adminFeedPasswordContainer) adminFeedPasswordContainer.style.display = 'block';
                    } else {
                        if(adminFeedPasswordContainer) adminFeedPasswordContainer.style.display = 'none';
                        if(adminFeedPasswordInput) adminFeedPasswordInput.value = ''; 
                    }
                });
            }

            function loadComments() {
                if(!commentFeedDisplayArea) return; 
                commentFeedDisplayArea.innerHTML = ''; 
                const comments = JSON.parse(localStorage.getItem('loveDeckComments')) || [];
                comments.forEach(comment => {
                    displayComment(comment.user, comment.message, comment.timestamp, comment.isAdmin);
                });
            }

            function saveComment(user, message, isAdmin) {
                const comments = JSON.parse(localStorage.getItem('loveDeckComments')) || [];
                const timestamp = new Date().toLocaleString(currentLanguage === 'vi' ? 'vi-VN' : 'en-US');
                comments.push({ user, message, timestamp, isAdmin });
                localStorage.setItem('loveDeckComments', JSON.stringify(comments));
                return { user, message, timestamp, isAdmin };
            }

            function displayComment(user, message, timestamp, isAdmin) {
                if(!commentFeedDisplayArea) return; 
                const commentItem = document.createElement('div');
                commentItem.classList.add('comment-item');
                
                let userNameDisplay = user || (translations[currentLanguage]?.anonymous_user || "·∫®n danh");
                let adminTickHTML = '';
                if (isAdmin) {
                    adminTickHTML = '<span class="admin-tick">üëë</span>'; 
                }

                commentItem.innerHTML = `
                    <strong>${userNameDisplay}${adminTickHTML}:</strong> 
                    ${message.replace(/\n/g, '<br>')}
                    <span class="timestamp">${timestamp}</span>
                `;
                commentFeedDisplayArea.appendChild(commentItem);
                commentFeedDisplayArea.scrollTop = commentFeedDisplayArea.scrollHeight;
            }

            if(commentForm) { 
                 commentForm.addEventListener('submit', (event) => {
                    event.preventDefault();
                    const user = commentUserInput ? commentUserInput.value.trim() : ""; 
                    const message = commentMessageInput ? commentMessageInput.value.trim() : ""; 
                    const password = adminFeedPasswordInput ? adminFeedPasswordInput.value : ""; 

                    const currentTrans = translations[currentLanguage] || translations['vi'];

                    if (!message) {
                        alert(currentTrans['alert_comment_message_required']);
                        return;
                    }

                    let isAdmin = false;
                    if (user.toLowerCase() === adminUsername && password === adminPasswordValue) {
                        isAdmin = true;
                    }
                    
                    const savedComment = saveComment(user, message, isAdmin);
                    displayComment(savedComment.user, savedComment.message, savedComment.timestamp, savedComment.isAdmin);
                    
                    commentForm.reset(); 
                    if(adminFeedPasswordContainer) adminFeedPasswordContainer.style.display = 'none'; 
                    if(emojiPicker) emojiPicker.classList.remove('visible'); 
                });
            }
            // --------------------------------------


            window.addEventListener('click', (event) => {
                if (event.target == poseModal) { 
                    if(poseModal) poseModal.style.display = 'none'; 
                }
            });

            if(drawButton) drawButton.addEventListener('click', drawCard);
            if(resetButton) resetButton.addEventListener('click', initializeDeck);
            
            initializeLanguage(); 
            showPage('landingPageSection'); 
        });
    </script>
</body>
</html>
ÔøΩ
